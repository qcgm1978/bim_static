<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>模型选择器</title>
      <script src="http://bim.wanda-dev.cn/static/dist/components/inspectSelection/js/inspectSelection.js"></script>
  </head>
  <body>
    <script>
    function GetRequest() {   
       var url = location.search; //获取url中"?"符后的字串   
       var theRequest = new Object();   
       if (url.indexOf("?") != -1) {   
          var str = url.substr(1);   
          strs = str.split("&");   
          for(var i = 0; i < strs.length; i ++) {   
             theRequest[strs[i].split("=")[0]]=unescape(strs[i].split("=")[1]);   
          }   
       }   
       return theRequest;   
    }
    var Request = GetRequest();

    var viewer = new InspectModelSelection({
      type:Request.type,//open process
      sourceId: Request.sourceId,
      etag: Request.etag,
      projectId:Request.projectId,
      projectVersionId: Request.projectVersionId,
      ruleType:Request.ruleType,
      //res 选择的检查点数据
      callback:function(res){
      }
    });

    function getData(){
        var d=$('.tbOpeningacceptanceBody tr.selected'),
            id=d.data('id'),
            result={},
            data=viewer.Project.currentPageListData;
        _.each(data, function(i) {
              if (i.id == id) {
                result = {
                  id: i.id,
                  locationName: i.locationName,
                  location: i.location,
                  axis: i.axis
                }
              }
            })
        return JSON.stringify(result);
    }

    </script>
  </body>
</html>